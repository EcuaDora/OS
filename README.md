# Labs for OS
Лабораторные работы по дисциплине "Операционные системы" в ЛЭТИ

### [Лаба 1](/1_lab): Создание и уничтожение потоков

Написать программу, содержащую два потока (в дополнение к основному потоку). Каждый из потоков должен выводить определенное число на экран
***

### [Лаба 2](/2_lab): Cинхронизация потоков с помощью неименованных семафоров

Написать программу, содержащую два потока, осуществляющих координированный доступ к разделяемому ресурсу.

Необходимо убедиться, что в случае отсутствия семафора потоки выводят символы  в произвольном порядке, например:
121212121212121212121212121212121212121212121212121212121212121.

В случае использования семафора потоки выводят символы в определенном порядке, например:
111111111122222222221111111111222222222211111111112222222222.


В обоих случаях студент реализует три варианта программы:
1. С блокирующей операцией захвата семафора `sem_wait()`;
2. С операцией проверки захвата семафора без блокировки `sem_trywait()`;
3. С блокировкой на время операции захвата семафора `sem_timedwait()`.
***

### [Лаба 3](/3_lab): Взаимодействие потоков через неименованные каналы

Программа, содержащая два потока,
один из которых пишет данные в неименованный канал (pipe),
а другой читает данные из канала.

Реализация трех экземпляров программы:
1. Использование `read()`/`write()` с блокировкой, т.е.
при чтении из пустого канала, или при записи в полный канал 
потоки чтения и записи блокируются 
и программа не завершается при нажатии клавиши `Enter`
2. Блокировка снимается с использованием `pipe2()`, 
программа может завершиться при нажатии `Enter`.
3. Блокировка снимается с использованием `fcntl()`,
программа может завершиться при нажатии `Enter`.

***

### [Лаба 4](/4_lab): Cоздание и уничтожение процессов

Две программы:
1. Программа 1 *(дочерний процесс)*:<br/>
   * В цикле выводит переданное окружение на экран с задержкой в одну секунду.
   * Должна выводить на экран свой идентификатор и идентификатор процесса-родителя.
   
2. Программу 2 *(родительский процесс)*:<br/>
   * Запускает программу 1 в качестве дочернего процесса с помощью вызовов `fork()` и `execle()`.
   * Должна вывести на экран идентификатор процесса-родителя, свой идентификатор и идентификатор дочернего процесса.
   * Должна сформировать набор параметров для передачи в дочерний процесс.
   * Должна ожидать завершения дочернего процесса, проверяя событие завершения каждую половину секунды, а по завершению дочернего процесса вывести на экран код завершения.
***

### [Лаба 5](/5_lab): Cинхронизация процессов с помощью именованных семафоров

Необходимо выбрать общий ресурс - файл и осуществлять запись данных в него из двух программ.

Обе программы должны создать (или открыть, если создан) один и тот же именованный семафор, должны создать (или открыть, если создан) один и тот же файл, но записывать в файл разные символы.

Необходимо убедиться, что в случае отсутствия именованного семафора процессы выводят символы в файл в произвольном порядке, например:
1212121212121212121212121212121212121212121212121212121212121.

В случае использования именованного семафора процессы выводят символы в файл в определенном порядке, например:
111111111122222222221111111111222222222211111111112222222222.

Использовать функции входа в критический участок с блокировкой и без блокировки.
***

### [Лаба 6](/6_lab): Взаимодействие процессов через разделяемую память

Комплект из двух программ, одна из которых посылает данные в разделяемую память, 
а вторая – читает эти данные.

Поскольку механизм разделяемой памяти не содержит средств синхронизации записи и чтения, 
для синхронизации используется механизм именованных семафоров.

Для получения сегмента разделяемой памяти используется стандарт SVID.
***

### [Лаба 7](/7_lab): Взаимодействие процессов через именованные каналы

Написать комплект из двух программ, одна из которых записывает данные в именованный канал, а вторая – считывает эти данные. Проверить работу функций с блокировкой и без блокировки.
***

### [Лаба 8](/8_lab): Взаимодействие процессов через очереди сообщений

Написать комплект из двух программ, одна из которых передает сообщение в очередь сообщений, а вторая – принимает сообщения из очереди сообщений. Проверить работу функций с блокировкой и без блокировки.
***

### [Лаба 9](/9_lab): Сетевое взаимодействие процессов через сокеты

Написать комплект из двух программ, одна из которых выполняет функции сервера, а вторая выполняет функции клиента. 

Клиент после установления соединения с сервером посылает ему запросы. 

Сервер принимает запросы, обрабатывает их и отправляет ответы клиенту. Функцию обработки следует выбрать из таблицы.

Клиент принимает ответы и выводит их на экран.

Использовать функции работы с сокетами без блокировки.

В качестве очередей запросов на обработку и передачу использовать типы данных std::vector или std::queue.

Необходимо учесть, что очереди запросов на обработку и передачу являются критическими ресурсами, с которыми работают несколько потоков одновременно. Поэтому работа с очередями должна производиться в режиме взаимного исключения.

Студент, который находится в списке группы под четным номером, использует протокол с установлением соединения (TCP).

Студент, который находится в списке группы под нечетным номером, использует протокол без установления соединения (UDP).
